<MlViewScreen>
    MDBoxLayout:
        orientation:'vertical'

        MDBoxLayout:
            size_hint: 1, None
            height: 20

            Button:
                size_hint_y: None
                pos_hint: {"center_x": 0.5}
                height: 20
                font_size: 22
                text: "Main Screen"
                background_color: 1.8, 1.8, 1.8, 1
                on_press: root.goto_main()

            Button:
                size_hint_y: None
                pos_hint: {"center_x": 0.5}
                height: 20
                font_size: 22
                text: "Image Screen"
                background_color: 1.8, 1.8, 1.8, 1
                on_press: root.goto_images()

            Button:
                size_hint_y: None
                pos_hint: {"center_x": 0.5}
                height: 20
                font_size: 22
                text: "DB Screen"
                background_color: 1.8, 1.8, 1.8, 1
                on_press: root.goto_db()

            Button:
                size_hint_y: None
                pos_hint: {"center_x": 0.5}
                height: 20
                font_size: 22
                text: "ML Screen"
                on_press: root.goto_ml()

        MDBoxLayout:
            orientation: 'horizontal'

            MDBoxLayout:    # left sidebar
                orientation: 'vertical'
                size_hint_x: 0.2

                TextInput:
                    id: class_input
                    size_hint_y: 0.1
                    height: 30
                    multiline: False
                    hint_text: "enter class name"
                    font_size: 16
                    on_text_validate:
                        pass

                Button:
                    text: 'Add class'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.add_class()

                ScrollView:
                    size_hint_y: 0.6
                    do_scroll_x: False
                    do_scroll_y: True
                    height: 100
                    scroll_wheel_distance: 60

                    GridLayout:
                        id: class_grid
                        cols: 1
                        size: self.parent.size
                        pos: self.parent.pos
                        size_hint: None, None
                        height: self.minimum_height
                        row_default_height: 20

                Button:
                    text: 'Delete class'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.delete_class()

                Button:
                    id: open
                    text: 'Open'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.show_folder_images(new=True)

                Button:
                    text: 'Transfer'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.transfer_images()

                Button:
                    id: train
                    text: 'Train'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.trigger_training()

            MDBoxLayout:    # image preview window
                orientation: 'vertical'
                id: preview

                MDLabel:
                    id: load_label
                    halign: 'center'
                    font_size: 36
                    text: "Loading, please wait..."
                    size_hint_y: 0

                ProgressBar:
                    id: progress_bar
                    value: 0
                    min: 0
                    max: 100
                    pos_hint: {'x': .1}
                    size_hint: .8, 0

                ScrollView:
                    size_hint_y: .9
                    pos_hint: {'x': 0, 'y': 0}
                    do_scroll_x: False
                    do_scroll_y: True
                    scroll_wheel_distance: 60

                    GridLayout:
                        id: image_grid
                        cols: 4
                        size:(preview.width, preview.height)
                        size_hint: None, None
                        height: self.minimum_height
                        row_default_height: 200

            MDBoxLayout:    # right sidebar
                orientation: 'vertical'
                size_hint_x: 0.2

                TextInput:
                    id: model_input
                    size_hint_y: 0.1
                    height: 30
                    multiline: False
                    hint_text: "enter model name"
                    font_size: 16
                    on_text_validate:
                        pass

                Button:
                    text: 'Create model'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.create_model()

                ScrollView:
                    size_hint_y: 0.6
                    do_scroll_x: False
                    do_scroll_y: True
                    height: 100
                    scroll_wheel_distance: 60

                    GridLayout:
                        id: model_grid
                        cols: 1
                        size: self.parent.size
                        pos: self.parent.pos
                        size_hint: None, None
                        height: self.minimum_height
                        row_default_height: 20

                Button:
                    text: 'Delete model'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.delete_model()

                Button:
                    id: open
                    text: 'Load'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.load_model()

                Button:
                    text: 'Unload'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.unload_model()

                Button:
                    text: 'Evaluate'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.evaluate_model()

                Button:
                    text: 'Save'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.save_model()

                Button:
                    text: 'Predict'
                    size_hint_y: 0.1
                    height: 30
                    background_color: (1, 1, 1, .5)
                    on_press: root.model_predict()

    FloatLayout:
        size: root.width, root.height

        Button:
            id: prev_page
            text: '<<<'
            size_hint: None, None
            size: 40, 30
            pos_hint: {'x': 0.44, 'y': 0.01}    # - 65
            background_color: (1, 1, 1, .5)
            on_press: root.prev_page()

        MDLabel:
            id: page_label
            pos_hint: {'x': 0.505, 'y': 0.04}
            font_size: 36
            text: "01"
            size_hint_y: 0

        Button:
            id: next_page
            text: '>>>'
            size_hint: None, None
            size: 40, 30
            pos_hint: {'x': 0.63, 'y': 0.01}    # + 55
            background_color: (1, 1, 1, .5)
            on_press: root.next_page()